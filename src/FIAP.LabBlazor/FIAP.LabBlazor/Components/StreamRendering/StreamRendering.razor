@page "/stream-rendering"
@attribute [StreamRendering(true)]

<PageTitle>Stream Rendering</PageTitle>

<h1>Stream Rendering</h1>

@if (items.Count == 0)
{
	<div class="d-flex align-items-center">
		<strong>Carregando itens...</strong>
		<div class="spinner-border ms-3 text-primary" role="status" aria-hidden="true"></div>
	</div>
}
else
{
	<ul class="list-group">
		@foreach (var item in items)
		{
			<li class="list-group-item d-flex justify-content-between align-items-center">
				@item
				<span class="badge bg-success rounded-pill">OK</span>
			</li>
		}
	</ul>
}

@code {
	private List<string> items = new();

	protected override async Task OnInitializedAsync()
	{
		// Simula carregamento incremental de dados
		for (int i = 1; i <= 5; i++)
		{
			await Task.Delay(1000); // Aguarda 1 segundo
			items.Add($"Item {i}");
			StateHasChanged(); // Atualiza a interface a cada item
		}
	}
}
